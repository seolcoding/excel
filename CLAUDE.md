# Project Instructions

> **Current Time**: Run `date '+%Y-%m-%d %H:%M:%S'` or `date +%s` (Unix timestamp)

## Core Requirements

### OpenAI Agent SDK
- **MUST USE** OpenAI Agents SDK for all agent implementations
- Import from `agents` package: `from agents import Agent, Runner, function_tool`
- All agents must use the SDK's Agent class and Runner.run() for execution

### Model Selection
- **ALWAYS USE** the latest SOTA model: `gpt-5.2`
- For cost-optimized tasks: `gpt-5-mini`
- DO NOT use older models (gpt-4o, gpt-4-turbo, etc.)

## Agent Architecture

```python
from agents import Agent, Runner, function_tool

# Analyzer Agent: gpt-5-mini (cost-optimized)
# Planner Agent: gpt-5.2 (SOTA reasoning)
# Generator Agent: gpt-5.2 (SOTA code generation)
```

## Reference Documentation

- **Official Docs**: https://openai.github.io/openai-agents-python/
- **Local Reference**: `refs/openai-agents-python/` (cloned repo)
  - Examples: `refs/openai-agents-python/examples/`
  - Docs: `refs/openai-agents-python/docs/`
  - SDK Source: `refs/openai-agents-python/src/agents/`

### SDK Documentation Index (MUST READ)

**개발 시 반드시 `refs/openai-agents-python/docs/llms.txt` 파일을 먼저 참조하여 관련 문서를 찾을 것!**

주요 문서 경로:
| 주제 | 문서 경로 |
|------|-----------|
| Agents 설정 | `docs/agents.md` |
| Runner 실행 | `docs/running_agents.md` |
| Tools 정의 | `docs/tools.md` |
| Tracing | `docs/tracing.md` |
| Streaming | `docs/streaming.md` |
| Guardrails | `docs/guardrails.md` |
| Handoffs | `docs/handoffs.md` |
| Multi-agent | `docs/multi_agent.md` |
| Sessions | `docs/sessions.md` |
| Results | `docs/results.md` |

## Development Guidelines

1. Demo pages MUST be generated by actual agent API calls, not hand-crafted
2. Test with real Excel files before deployment
3. Debug and iterate until agents produce working output
4. All UI must be in Korean
5. Always reference official SDK docs and examples when implementing agents

## Testing Requirements

### Agent Loop Testing
- Agent MUST generate test code for VBA/JS calculations
- Tests must verify formula conversion accuracy
- If tests fail, agent loop iterates to improve the code
- Maximum 3 iterations for improvement

### Background Processing
- Run agent loop conversions in background
- Use async/background tasks for batch conversions
- Monitor output with task IDs

## Test Coverage
- Excel formula → JS function accuracy
- VBA macro → JS function accuracy
- Input validation
- Calculation result verification

## Deployment

### GitHub Pages
- **Repository**: seolcoding/excel
- **Deployed URL**: https://seolcoding.github.io/excel/
- **Custom Domain**: excel.seolcoding.com
- **CNAME file**: `excel.seolcoding.com`

### DNS Configuration (Cloudflare)
```
Type: CNAME
Name: excel
Target: seolcoding.github.io
Proxy: ON or OFF
```

GitHub handles routing from `excel.seolcoding.com` → `seolcoding.github.io/excel/` automatically.
